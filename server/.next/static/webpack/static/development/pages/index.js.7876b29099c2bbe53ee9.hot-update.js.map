{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.7876b29099c2bbe53ee9.hot-update.js","sources":["webpack:///./components/ContentWindow.jsx"],"sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport SetupPage from './Pages/SetupPage'\r\nimport UserPage from './Pages/UserPage'\r\nimport VisualsPage from './Pages/VisualsPage'\r\nimport SettingsPage from './Pages/SettingsPage'\r\nimport BasicSetupPage from './Pages/BasicSetupPage'\r\nimport Experiment2019 from './Setups/Experiment2019'\r\n\r\nimport io from \"socket.io-client\";\r\nimport { setSocket } from \"../src/actions\";\r\nimport { setParam } from \"../src/actions\";\r\n\r\nlet WIRELESS = 1\r\n\r\nclass WindowContent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t    super(props);\r\n\r\n\t    this.handleMessage = this.handleMessage.bind(this);\r\n\t    this.handleEndStage = this.handleEndStage.bind(this);\r\n\t    this.handleInfo = this.handleInfo.bind(this);\r\n\r\n\t    this.state = { \r\n\t    \tcontent: null,\r\n\t    \tstyle: null,\r\n\t    \tinfo: null, \r\n\t    };\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t    var socketio = io();\r\n\t    socketio.on('message', this.handleMessage) \r\n\t    socketio.on('END_STAGE', this.handleEndStage) \r\n\t    socketio.on('INFO', this.handleInfo) \r\n\t    console.log(socketio);\r\n\t    this.props.setSocket(socketio)\t \r\n\t    this.state.info = 2;\r\n\t    this.state.info = <div> Force offset: {this.state.info} </div>  \r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t    console.log('unmount')\r\n\t    this.props.socket.close()\r\n\t}\r\n\r\n\thandleInfo = (message) => {\r\n\t\tthis.state.info = <div> Force offset: {this.state.info} </div>\r\n\t}\r\n\r\n\thandleMessage = (message) => {\r\n\t    console.log('Message Recieved: ' + message);\r\n\t    var res = message.split(\",\");\r\n\t    this.props.setParam('x', res[0])\r\n\t    this.props.setParam('xdes', res[1])\r\n\t    this.props.setParam('v', res[2])\r\n\t    this.props.setParam('vdes', res[3])\r\n\t    this.props.setParam('x_ball', res[4])\r\n\t    this.props.setParam('x_end', res[5])\r\n\t    this.state.info = null;\r\n\r\n\t}\r\n\r\n\thandleEndStage = (message) => {\r\n\t\tconsole.log('Stage Ended')\r\n\r\n\t\tthis.props.setParam('stage', this.props.stage + 1)\r\n\t\tthis.props.setParam('run', 0)\r\n\r\n\t\tthis.props.setParam('xdes', 0.0)\r\n\t\tthis.props.setParam('x', 0.0)\r\n\r\n\t\tswitch(this.props.exp){\r\n\t\t\tcase 1:\r\n\t\t\t\t//assist/resist ranges (exp 1)\r\n\t\t\t\tthis.props.setParam('game', 1)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t//games vs no games (exp 2)\r\n\t\t\t\tswitch(this.props.stage){\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.props.setParam('game', 3)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.props.setParam('game', 3)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis.props.setParam('game', 4)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tthis.props.setParam('game', 4)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tthis.props.setParam('game', 5)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\t//practice run\r\n\t\t\t\t//this.props.setParam('game', this.props.game + 2)\r\n\t\t\t\tbreak;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif(this.props.menuOpen) {\r\n\t    \tthis.state.style = {\r\n\t\t\t\ttransition: 'marginLeft 6',\r\n\t\t\t\tmarginLeft: 255 ,\r\n\t\t\t\tpadding: 20\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.state.style = {\r\n\t\t\t\ttransition: 'marginLeft 6',\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t\tpadding: 20\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch(this.props.activePage) {\r\n\t\t\tcase 1:\r\n\t\t\t\t  if(this.props.user == 1) {this.state.content = <div style={this.state.style}> <SetupPage /> </div>}\r\n\t\t\t\t  if(this.props.user == 2) {this.state.content = <div style={this.state.style}> <SetupPage /> </div>}\r\n\t\t\t\t  if(this.props.user == 3) {this.state.content = <div style={this.state.style}> <Experiment2019 /> </div>}\r\n\t\t\t\t  break;\r\n\t\t\tcase 2:\r\n\t\t\t\t  this.state.content = <div style={this.state.style}> <VisualsPage /> {this.state.info} </div>\r\n\t\t\t\t  break;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.state.content = <div style={this.state.style}> <SettingsPage /> </div>\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t  this.state.content = <div style={this.state.style}> Page Load Failed </div>\t\t\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.content}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\t\r\n\t//map state variables to the component's state \r\n \treturn {\r\n \t\tactivePage: state.activePage,\r\n \t\tmenuOpen: state.menuOpen,\r\n \t\tsocket: state.socket,\r\n \t\tuser: state.user ,\r\n \t\tstage: state.stage,\r\n \t\texp: state.exp,\r\n \t\tgame: state.game,\r\n \t}\r\n}\r\n\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { setSocket,\r\n  \tsetParam } //add importing action functions here\r\n)(WindowContent);\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAgCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAlCA;AAoCA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AA/CA;AAiDA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AA7BA;AA+BA;AACA;AArFA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AARA;AAaA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;;;AA6DA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AACA;AAeA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAjIA;AACA;AAoIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAEA;AAEA;AACA;AACA;AAFA;;;;A","sourceRoot":""}